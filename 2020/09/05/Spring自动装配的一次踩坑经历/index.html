<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="liuchanglin">





<title>Springè‡ªåŠ¨è£…é…çš„ä¸€æ¬¡è¸©å‘ç»å† | liuchanglin &#39;s blog</title>



    <link rel="icon" href="/img.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">LiuChanglin&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">LiuChanglin&#39;s Blog</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Springè‡ªåŠ¨è£…é…çš„ä¸€æ¬¡è¸©å‘ç»å†</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">liuchanglin</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">September 5, 2020&nbsp;&nbsp;17:45:33</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="é›¶ã€å†™åœ¨å‰é¢"><a href="#é›¶ã€å†™åœ¨å‰é¢" class="headerlink" title="é›¶ã€å†™åœ¨å‰é¢"></a>é›¶ã€å†™åœ¨å‰é¢</h2><blockquote>
<p> ä¼—æ‰€å‘¨çŸ¥ï¼Œç¨‹åºå‘˜è®¡æ•°éƒ½æ˜¯ä»é›¶å¼€å§‹çš„ã€‚</p>
</blockquote>
<p>â€‹    æœ€è¿‘ç»„é•¿ç»™å®‰æ’äº†ä¸€ä¸ªç»„å†…â€œåˆ†äº«â€ï¼Œä¸€èˆ¬æ¥è¯´éƒ½æ˜¯æŠ€æœ¯åˆ†äº«ï¼Œä½†æ˜¯å¯èƒ½æ˜¯é‰´äºæˆ‘åˆ†äº«ä¸å‡ºæ¥ä»€ä¹ˆå¯¹ä»–ä»¬æœ‰ç”¨çš„æŠ€æœ¯ï¼Œæ‰€ä»¥ç»™æˆ‘å®šäº†ä¸ªä¸»é¢˜æ˜¯â€œåˆ†äº«å…¬å¸çš„äººå‘˜ç»„ç»‡æ¶æ„ã€ç»„å†…æœåŠ¡åŠŸèƒ½ï¼Œç³»ç»Ÿæ¶æ„â€ï¼Œç¡¬ç€å¤´çš®å†™äº†å†™è‡ªå·±çŸ¥é“çš„ï¼Œå‡†å¤‡äº†ä¸¤å‘¨ï¼Œæ¯å¤©éƒ½åœ¨è§‰å¾—pptä¸Šå†™çš„æ˜¯ä¸€å †åºŸè¯ã€‚</p>
<p><img src="https://magic-picgo.oss-cn-beijing.aliyuncs.com/hexoBlog/IMG_9909.JPG" alt="IMG_9909" style="zoom: 33%;" /></p>
<p>â€‹    ç»ˆäºåœ¨åº¦è¿‡äº†æå…¶è‡ªé—­çš„ä¸¤å‘¨ï¼Œpptæ— æƒŠæ— é™©çš„è®²å®Œäº†ï¼Œä¸Šå‘¨å•ä¼‘ï¼Œè¢«å°ä¼™ä¼´æ‹‰å»æ‰“äº†æ¸¸æˆï¼Œæ‰€ä»¥ä¸Šå‘¨å­¦ä¹ è¿›åº¦ä¹Ÿæ˜¯0ã€‚</p>
<p>æ·¦ï¼è¿™ä¸ªé¢˜ç›®å¥½åƒæ˜¯ä¸€ä¸ªæœˆä¹‹å‰æƒ³å†™çš„äº†,æœ€è¿‘å®åœ¨æ˜¯å¤ªæ‡’æƒ°äº†ğŸ˜­ğŸ˜­ğŸ˜­ã€‚ã€‚ã€‚ã€‚</p>
<h2 id="ä¸€ã€è¸©å‘"><a href="#ä¸€ã€è¸©å‘" class="headerlink" title="ä¸€ã€è¸©å‘"></a>ä¸€ã€è¸©å‘</h2><p>â€‹    äº‹æƒ…ä»ä¸€æ¬¡æ™®é€šçš„éœ€æ±‚è¯´èµ·ï¼Œä¸šåŠ¡ä¸Šçš„ä»£ç éœ€è¦åœ¨ä¸€ä¸ªUtilç±»ä¸Šè¿›è¡Œæ”¹åŠ¨ï¼Œä½†æ˜¯åŒæ—¶è¿˜æ˜¯éœ€è¦è°ƒç”¨ä¸€äº›å…¶ä»–serviceæ–¹æ³•ï¼Œè¿™é‡Œå°±éœ€è¦é€šè¿‡Springè¿›è¡Œè£…é…ï¼Œä½†æ˜¯æ”¹åŠ¨çš„æ–¹æ³•æ˜¯ä¸€ä¸ªstaticçš„é™æ€æ–¹æ³•ï¼Œè¿™é‡Œæˆ‘å°±è„‘æŠ½çš„ç›´æ¥ä½¿ç”¨äº†staticå…³é”®å­—ä¿®é¥°å¼•ç”¨çš„serviceã€‚</p>
<blockquote>
<p>å…¶å®è¿™é‡Œæ˜¯ä¸å¯¹çš„ï¼ŒUtilsæ˜¯ä¸å¯ä»¥æœ‰ä»»ä½•serviceå±‚çš„è°ƒç”¨çš„ï¼Œè¿™é‡Œæˆ‘é€šè¿‡æ²Ÿé€šä¹Ÿè¿›è¡Œäº†æ”¹åŠ¨ï¼Œå°†serviceçš„è°ƒç”¨ç§»åˆ°äº†Utilsè°ƒç”¨ä¹‹å‰ï¼Œå°†serviceçš„è°ƒç”¨ç»“æœå¤„ç†åä½œä¸ºUtilsçš„å‚æ•°ã€‚ä½†æ­£å› ä¸ºè¿™æ ·ï¼Œå¥‰è¡Œctrl cã€ctrl vçš„æˆ‘ï¼Œè¿˜æ˜¯æŠŠstaticç»™å¤åˆ¶äº†è¿‡æ¥ğŸ˜…ã€‚</p>
</blockquote>
<p>ç¤ºä¾‹ä»£ç  ğŸ‘‡ğŸ»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TestService testService; <span class="comment">//the bean is modified by static!!!!</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/foo&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult <span class="title function_">fooController</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> testService.testAutowired(<span class="string">&quot;this is a msg&quot;</span>);</span><br><span class="line">        System.err.println(msg);</span><br><span class="line">        <span class="keyword">return</span> ApiResult.success(msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¦‚æœå»æ‰staticï¼ŒæŒ‰ç…§ä¼ ç»Ÿçš„è£…é…æ–¹å¼ï¼Œå½“ç„¶å¯ä»¥æ­£å¸¸çš„è¯·æ±‚åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªjsonğŸ‘‡ğŸ»ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;Success&quot;</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="string">&quot;this is a msg&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œæ—¢ç„¶æ˜¯å‘ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯å‡ºé”™äº†æ‰å¯¹ã€‚ã€‚ã€‚</p>
<p>æ²¡é”™ï¼Œåœ¨ä¸Šé¢ç¤ºä¾‹ä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œè¯·æ±‚ï¼Œä¼šçˆ†å‡ºä¸€ä¸ªNullPointerExceptionï¼Œé”™è¯¯å †æ ˆå¦‚ä¸‹ğŸ‘‡ğŸ»:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">There was an unexpected <span class="title function_">error</span> <span class="params">(type=Internal Server Error, status=<span class="number">500</span>)</span>.</span><br><span class="line">No message available</span><br><span class="line">java.lang.NullPointerException</span><br><span class="line">	at com.lcl.datareplenish.controller.ModelController.fooController(ModelController.java:<span class="number">27</span>)</span><br><span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:<span class="number">62</span>)</span><br><span class="line">	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:<span class="number">43</span>)</span><br><span class="line">	at java.lang.reflect.Method.invoke(Method.java:<span class="number">498</span>)</span><br><span class="line">	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:<span class="number">190</span>)</span><br><span class="line">	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:<span class="number">138</span>)</span><br><span class="line">	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:<span class="number">106</span>)</span><br><span class="line">	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:<span class="number">888</span>)</span><br><span class="line">	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:<span class="number">793</span>)</span><br><span class="line">	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:<span class="number">87</span>)</span><br><span class="line">	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:<span class="number">1040</span>)</span><br><span class="line">	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:<span class="number">943</span>)</span><br><span class="line">	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:<span class="number">1006</span>)</span><br><span class="line">	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:<span class="number">898</span>)</span><br><span class="line">	at javax.servlet.http.HttpServlet.service(HttpServlet.java:<span class="number">634</span>)</span><br><span class="line">	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:<span class="number">883</span>)</span><br><span class="line">	at javax.servlet.http.HttpServlet.service(HttpServlet.java:<span class="number">741</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span class="number">231</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span class="number">166</span>)</span><br><span class="line">	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:<span class="number">53</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span class="number">193</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span class="number">166</span>)</span><br><span class="line">	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:<span class="number">100</span>)</span><br><span class="line">	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span class="number">119</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span class="number">193</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span class="number">166</span>)</span><br><span class="line">	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:<span class="number">93</span>)</span><br><span class="line">	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span class="number">119</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span class="number">193</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span class="number">166</span>)</span><br><span class="line">	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:<span class="number">201</span>)</span><br><span class="line">	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:<span class="number">119</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:<span class="number">193</span>)</span><br><span class="line">	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:<span class="number">166</span>)</span><br><span class="line">	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:<span class="number">202</span>)</span><br><span class="line">	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:<span class="number">96</span>)</span><br><span class="line">	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:<span class="number">526</span>)</span><br><span class="line">	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:<span class="number">139</span>)</span><br><span class="line">	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:<span class="number">92</span>)</span><br><span class="line">	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:<span class="number">74</span>)</span><br><span class="line">	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:<span class="number">343</span>)</span><br><span class="line">	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:<span class="number">408</span>)</span><br><span class="line">	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:<span class="number">66</span>)</span><br><span class="line">	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:<span class="number">861</span>)</span><br><span class="line">	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:<span class="number">1579</span>)</span><br><span class="line">	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:<span class="number">49</span>)</span><br><span class="line">	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:<span class="number">1149</span>)</span><br><span class="line">	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:<span class="number">624</span>)</span><br><span class="line">	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:<span class="number">61</span>)</span><br><span class="line">	at java.lang.Thread.run(Thread.java:<span class="number">748</span>)</span><br></pre></td></tr></table></figure>
<p>â€‹    è€Œä¸”ä¹Ÿå¯ä»¥åœ¨æ—¥å¿—ä¸­æ‰¾åˆ°ä¸¤è¡Œï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2020</span>-09-<span class="number">06</span> <span class="number">01</span>:<span class="number">47</span>:<span class="number">04.216</span>  INFO <span class="number">71855</span> --- [  restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on <span class="keyword">static</span> fields: <span class="keyword">private</span> <span class="keyword">static</span> com.lcl.datareplenish.service.TestService com.lcl.datareplenish.controller.ModelController.testService</span><br><span class="line"><span class="number">2020</span>-09-<span class="number">06</span> <span class="number">01</span>:<span class="number">47</span>:<span class="number">04.216</span>  INFO <span class="number">71855</span> --- [  restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on <span class="keyword">static</span> fields: <span class="keyword">private</span> <span class="keyword">static</span> com.lcl.datareplenish.service.TestService com.lcl.datareplenish.controller.ModelController.testService</span><br></pre></td></tr></table></figure>
<p>â€‹    ç»è¿‡èµ„æ–™çš„æŸ¥é˜…ï¼Œä¼šå‘ç”Ÿè¿™ç§é—®é¢˜å…³é”®åœ¨äºSpringå®¹å™¨ä¸ç±»åŠ è½½çš„å…ˆåé¡ºåºé—®é¢˜ã€‚</p>
<h2 id="äºŒã€é—®é¢˜åˆ†æ"><a href="#äºŒã€é—®é¢˜åˆ†æ" class="headerlink" title="äºŒã€é—®é¢˜åˆ†æ"></a>äºŒã€é—®é¢˜åˆ†æ</h2><p>â€‹    <strong>é¦–å…ˆå¯¹staticå…³é”®å­—è¿›è¡Œåˆ†æ</strong>ï¼Œæ·±å…¥æ¢ç©¶staicè¦ä»Javaçš„å†…å­˜æ¨¡å‹å±‚æ¬¡ä¸Šè¿›è¡Œåˆ†æï¼Œè¿™ç¯‡æ–‡ç« å°±å…ˆä¸è®¨è®ºé‚£ä¹ˆæ·±å…¥ï¼Œæ—¥ååœ¨æˆ‘ç»§ç»­è¯»ã€Šæ·±å…¥ç†è§£JVMè™šæ‹Ÿæœºã€‹ä¹‹ååº”è¯¥ä¼šè¿›è¡Œæ€»ç»“çš„ã€‚</p>
<p>â€‹    é¦–å…ˆæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªå¸¸è¯†ï¼Œé™æ€å˜é‡ï¼ˆæˆå‘˜ï¼‰å®ƒæ˜¯<strong>å±äºç±»</strong>çš„ï¼Œè€Œéå±äºå®ä¾‹å¯¹è±¡çš„å±æ€§ï¼›åŒæ ·çš„é™æ€æ–¹æ³•ä¹Ÿæ˜¯å±äºç±»çš„ï¼Œæ™®é€šæ–¹æ³•ï¼ˆå®ä¾‹æ–¹æ³•ï¼‰æ‰å±äºå¯¹è±¡ã€‚</p>
<pre><code>&gt; çªç„¶æœ‰äº›ç†è§£ï¼Œè¢«autowiredæ³¨è§£ä¿®é¥°çš„å¼•ç”¨ï¼Œå…¶å®æ˜¯å½“å‰ç±»çš„ä¸€ä¸ªå±æ€§ï¼Œè€Œè¿›è¡Œçš„æ³¨å…¥ï¼Œæ— éæ˜¯é€šè¿‡äº†Springå®¹å™¨å°†ç”Ÿæˆå¥½çš„beanä½œä¸ºåˆå§‹åŒ–èµ‹å€¼ç»™å½“å‰çš„è¿™ä¸ªå±æ€§ã€‚è¿™æ‰æ˜¯æ‰€è°“çš„ä¾èµ–æ³¨å…¥ã€‚
</code></pre><p>â€‹    è€ŒSpringå®¹å™¨ç®¡ç†çš„éƒ½æ˜¯<strong>å®ä¾‹å¯¹è±¡</strong>ï¼ŒåŒ…æ‹¬å®ƒçš„<code>@Autowired</code>ä¾èµ–æ³¨å…¥çš„å‡æ˜¯å®¹å™¨å†…çš„å¯¹è±¡å®ä¾‹ï¼Œæ‰€ä»¥å¯¹äºstaticæˆå‘˜æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨<code>@Autowired</code>æ³¨å…¥çš„ã€‚</p>
<p>â€‹    ä¹Ÿå°±æ˜¯è¯´ï¼Œç±»çš„staticå±æ€§åœ¨Springå®¹å™¨å¯åŠ¨ä¹‹å‰å°±å·²ç»åŠ è½½äº†ï¼Œè€Œä¸”å®ƒå¹¶ä¸ä¾é Springçš„ä¾èµ–æ³¨å…¥æ¥è¿›è¡Œåˆå§‹åŒ–çš„ã€‚</p>
<p>â€‹    è€Œä¸”Springå®˜æ–¹ä¹Ÿæ˜¯éå¸¸ä¸å»ºè®®å¯¹staticå±æ€§å­—æ®µè¿›è¡Œä¾èµ–æ³¨å…¥ï¼ˆè¿™é‡Œæ˜¯ä¸å»ºè®®ï¼Œè€Œä¸æ˜¯ä¸å¯ä»¥ï¼‰ ã€‚</p>
<p><strong>é‚£ä¹ˆSpringå®¹å™¨æ˜¯å¦‚ä½•åœ¨è‡ªåŠ¨è£…é…çš„æ—¶å€™åšåˆ°é¿å…staticå­—æ®µçš„beançš„ç”Ÿæˆå‘¢ï¼Ÿ</strong></p>
<p>â€‹    ä»ä¸Šè¿°çš„ä¸¤è¡Œ<code>not supported on static fields</code>çš„æ—¥å¿—ä¸­å¯ä»¥å®šä½åˆ°Springçš„éƒ¨åˆ†æºç ğŸ‘‡ğŸ»ï¼š</p>
<p><img src="https://magic-picgo.oss-cn-beijing.aliyuncs.com/hexoBlog/image-20200906020204050.png" alt="image-20200906020204050"></p>
<p>â€‹    ä»è¿™ä¸ªä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œå½“fieldæˆ–è€…æ˜¯methodè¢«<code>static</code>ä¿®é¥°ä¹‹åï¼ŒSpringå°±ä¼šè‡ªåŠ¨è·³è¿‡ä»–ä»¬ï¼Œä»…ä»…åªä¼šæ‰“å‡ºä¸€è¡Œinfoçº§åˆ«çš„æ—¥å¿—ï¼Œä½†æ˜¯ä¸ä¼šå‘ç”Ÿä¾èµ–æ³¨å…¥ï¼Œæ‰€ä»¥ä¹Ÿå°±å¯¼è‡´äº†åé¢å†è°ƒç”¨æ—¶ä¼šå‘ç”ŸNullPointerExceptionå¼‚å¸¸ã€‚</p>
<h2 id="ä¸‰ã€é—®é¢˜è§£å†³"><a href="#ä¸‰ã€é—®é¢˜è§£å†³" class="headerlink" title="ä¸‰ã€é—®é¢˜è§£å†³"></a>ä¸‰ã€é—®é¢˜è§£å†³</h2><p>â€‹    è™½ç„¶æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ä¼ ç»Ÿçš„æ³¨è§£çš„æ–¹å¼å¯¹staticå±æ€§è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯ä»£è¡¨æˆ‘ä»¬æ²¡æœ‰æ–¹æ³•è°ƒç”¨é™æ€å±æ€§äº†å‘¢ï¼Ÿ å½“ç„¶ä¸æ˜¯ï¼</p>
<h3 id="æ–¹æ³•ä¸€ï¼š"><a href="#æ–¹æ³•ä¸€ï¼š" class="headerlink" title="æ–¹æ³•ä¸€ï¼š"></a>æ–¹æ³•ä¸€ï¼š</h3><p>ä½¿ç”¨ä¸€ä¸ªsetæ–¹æ³•ğŸ‘‡ğŸ»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelController</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TestService testService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTestService</span><span class="params">(TestService testService)</span> &#123;</span><br><span class="line">        ModelController.testService = testService;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/foo&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ApiResult <span class="title function_">fooController</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> testService.testAutowired(<span class="string">&quot;this is a msg&quot;</span>);</span><br><span class="line">        System.err.println(msg);</span><br><span class="line">        <span class="keyword">return</span> ApiResult.success(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•äºŒï¼š"><a href="#æ–¹æ³•äºŒï¼š" class="headerlink" title="æ–¹æ³•äºŒï¼š"></a>æ–¹æ³•äºŒï¼š</h3><p>ä½¿ç”¨<code>@PostConstruct</code>æ³¨è§£ï¼Œä¸ºstaticæˆå‘˜èµ‹å€¼ğŸ‘‡ğŸ»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelController</span> &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TestService testService;</span><br><span class="line">  </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        ModelController.testService = applicationContext.getBean(TestService.class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/foo&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ApiResult <span class="title function_">fooController</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> testService.testAutowired(<span class="string">&quot;this is a msg&quot;</span>);</span><br><span class="line">        System.err.println(msg);</span><br><span class="line">        <span class="keyword">return</span> ApiResult.success(msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ–¹æ³•ä¸‰ï¼š"><a href="#æ–¹æ³•ä¸‰ï¼š" class="headerlink" title="æ–¹æ³•ä¸‰ï¼š"></a>æ–¹æ³•ä¸‰ï¼š</h3><p>å®ç°ä¸€ä¸ªSpringContextçš„å·¥å…·ç±»ï¼Œå»è·å–å®¹å™¨ä¸­çš„beanğŸ‘‡ğŸ»ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/test&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModelController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> TestService testService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/foo&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ApiResult <span class="title function_">fooController</span><span class="params">()</span> &#123;</span><br><span class="line">      <span class="comment">//æœªæä¾›SpringApplicationContextUtilç±»çš„å®ç°</span></span><br><span class="line">        testService =  SpringApplicationContextUtil.getBean(<span class="string">&quot;testService&quot;</span>); </span><br><span class="line">        <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> testService.testAutowired(<span class="string">&quot;this is a msg&quot;</span>);</span><br><span class="line">        System.err.println(msg);</span><br><span class="line">        <span class="keyword">return</span> ApiResult.success(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å››ã€å†™åœ¨æœ€å"><a href="#å››ã€å†™åœ¨æœ€å" class="headerlink" title="å››ã€å†™åœ¨æœ€å"></a>å››ã€å†™åœ¨æœ€å</h2><p>â€‹    è¿™æ¬¡è¸©å‘å…¶å®å¹¶æ²¡æœ‰ä»»ä½•äººå‘ç°ï¼Œåªæ˜¯åœ¨æˆ‘è‡ªå·±éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒä¹‹åï¼Œè‡ªå·±å‘ç°çš„é—®é¢˜ï¼ˆå¤šäºæ²¡è¢«åˆ«äººå‘ç°ï¼Œä¸ç„¶ä¸¢æ­»äººäº†ğŸ˜£ï¼‰ï¼Œåœ¨é—®é¢˜åŸå› çš„æ¢ç©¶è¿‡ç¨‹ä¸­å‘ç°äº†è‡ªå·±å¯¹Springç”šè‡³æ˜¯staticéƒ½è¿˜ç†è§£çš„ä¸å¤Ÿé€å½»ã€‚</p>
<p>â€‹    æ¯”å¦‚ï¼š</p>
<ul>
<li>staticæ‰€ä¿®é¥°çš„æˆå‘˜å˜é‡åœ¨åŠ è½½è¿‡ç¨‹ä¸­çš„ç‰¹æ®Šæ€§</li>
<li>â€œSpringå®¹å™¨å¯åŠ¨è·³è¿‡staticæˆå‘˜æ³¨å…¥â€æ“ä½œçš„å…¥å£</li>
<li>Springçš„ä¾èµ–æ³¨å…¥æ‰€è§£å†³çš„é—®é¢˜</li>
</ul>
<p>â€‹    æœªæ¥è¦å­¦ä¹ å†…å®¹ä¸æ–¹å‘ï¼š</p>
<ul>
<li>Javaå†…å­˜æ¨¡å‹â€”â€”ã€Šæ·±å…¥ç†è§£JVMè™šæ‹Ÿæœºã€‹</li>
<li>Springçš„åº•å±‚åŸç†ä¸æºç å®ç°â€”â€”ã€ŠSpringæºç æ·±åº¦è§£æã€‹</li>
</ul>
<p>â€‹    é“é˜»ä¸”é•¿ï¼Œç»§ç»­åŠ æ²¹ğŸ’ªğŸ»ã€‚</p>
<p><strong>ä»¥ä¸Šï¼</strong></p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>liuchanglin</span>
                    </p>
                
                
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span><strong>æˆ‘æƒ­æºå®å‰‘ï¼Œåªä¸ºçœ‹å±±æ¥.</strong></span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Java/"># Java</a>
                    
                        <a href="/tags/workReview/"># workReview</a>
                    
                        <a href="/tags/Spring/"># Spring</a>
                    
                        <a href="/tags/ExceptionRecord/"># ExceptionRecord</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>Â· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2020/10/04/%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E2%80%94%E2%80%94RSA%E7%AE%97%E6%B3%95/">éå¯¹ç§°åŠ å¯†â€”â€”RSAç®—æ³•</a>
            
            
            <a class="next" rel="next" href="/2020/07/26/HashMap%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86-%E4%BA%8C-%EF%BC%9AHashMap%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E5%8E%9F%E7%90%86/">HashMapçš„å·¥ä½œåŸç†(äºŒ)ï¼šHashMapä¸­çš„æ•°æ®ç»“æ„ä¸åŸç†</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© liuchanglin | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
